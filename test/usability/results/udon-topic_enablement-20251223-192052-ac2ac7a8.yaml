---
id: udon-topic_enablement-20251223-192052-ac2ac7a8
task: 'Topic enablement: Chaos engineering'
test_type: topic_enablement
context_lines: 0
model: claude-sonnet-4-5-20250929
prompt: |
  ## Context

  You're participating in notation design research. This is a one-shot
  interaction—you won't receive a reply, but your response will be
  reviewed by humans. Please prioritize honesty over any attempt to
  please; skepticism and criticism are valuable.

  ## UDON: Universal Document & Object Notation

  UDON unifies data, documents, and configuration in one syntax. The key
  insight: most real content is **mixed**—prose with structured data woven
  throughout, not segregated into "data files" vs "documents."

  Here is a comprehensive example showing UDON's capabilities:

  ```udon
  ; ============================================================================
  ; UDON Comprehensive Syntax Example
  ; Exercises the full specification (excluding exotic number types)
  ; ============================================================================

  ; ----------------------------------------------------------------------------
  ; MIXINS — Class-only elements define reusable traits
  ; ----------------------------------------------------------------------------

  |.base-service
    :version 1.0
    :timeout 30
    :retries 3

  |.logging :log-level info :log-format json

  |.cached
    :cache-enabled true
    :cache-ttl 3600

  ; ----------------------------------------------------------------------------
  ; CONFIGURATION — Data-centric usage
  ; ----------------------------------------------------------------------------

  |config[app-config]
    :name        "My Application"
    :debug       false
    :environment !{env.APP_ENV}

    ; Database with structured credentials
    |database[primary].base-service
      :adapter postgres
      :host    db.example.com
      :port    5432
      :pool    10
      :ssl

      |credentials
        :username !{env.DB_USER}
        :password !{env.DB_PASS}

    ; Cache inherits from multiple mixins
    |cache[redis].base-service.logging.cached
      :host cache.example.com
      :port 6379

    ; Feature flags demonstrate various value types
    |features
      :enabled-flags [dark-mode notifications beta-features]
      :rate-limits [100 500 1000]
      :mixed-example [42 true "hello" nil]
      :empty-list []

    ; Absent vs nil vs false demonstration
    |nil-test
      :flag-present           ; true (flag with no value)
      :explicit-true   true   ; true
      :explicit-false  false  ; false
      :null-value      null   ; nil (JSON style)
      :nil-value       nil    ; nil (Ruby style)
      :tilde-value     ~      ; nil (YAML style)
      ; :absent-key is not here — it's absent, not nil

  ; ----------------------------------------------------------------------------
  ; SCHEMA — Using element suffixes for DSL semantics
  ; ----------------------------------------------------------------------------

  |schema[user]
    :description "User account schema"
    |field[id]!                     :type integer :auto-increment
    |field[email]!                  :type string  :format email :unique
    |field[name]?                   :type string  :max-length 100
    |field[roles]*                  :type string  :enum [admin user guest]
    |field[primary-role]+           :type string
    ; Suffix position variations
    |field?[optional-with-id]       :type string
    |field[another-id]? .searchable :type string

  ; ----------------------------------------------------------------------------
  ; DOCUMENT — Prose-centric usage with embedded structure
  ; ----------------------------------------------------------------------------

  |article[welcome-guide]
    :author Joseph Wecker
    :date 2025-12-22
    :tags [udon tutorial documentation]
    :status published

    |h1 Welcome to UDON

    UDON is a **unified notation** for data, documents, and configuration.
    The key insight: most real content is |{em mixed}—not purely data
    |{em or} purely prose, but |{dfn :id mixed-content mixed content} where
    structure appears |{ul inline} exactly where it's needed.

    Consider this paragraph: it contains |{abbr :title "Application Programming Interface" API}
    references, |{a :href #getting-started internal links}, and even
    |{data :value 42 :type metric a structured data point} all flowing
    naturally within the prose.

    ## Why Another Format?

    Existing formats force uncomfortable trade-offs. See the comparison
    in |{a :href #format-comparison Table 1} below:

    |table[format-comparison]   ; Obviously this could just be a markdown table instead, but demoing more structure
      |tr      |{th Format}     |{th Prose} |{th Data}  |{th Inline}
      |tr      |{td JSON}       |{td poor}  |{td great} |{td none}
      |tr      |{td YAML}       |{td poor}  |{td good}  |{td none}
      |tr      |{td XML}        |{td ok}    |{td ok}    |{td verbose}
      |tr      |{td Markdown}   |{td great} |{td poor}  |{td limited}
      |tr.emph |{td |{em UDON}} |{td great} |{td great} |{td |{em natural}}

    As |{cite :author "Kay" :year 1993 Alan Kay} noted in his work on
    Smalltalk: |{q the best notation is one you don't notice}. UDON aims
    for exactly this—structure that doesn't interrupt reading.

    |blockquote
      :source "Ancient Proverb"
      :cited-by |{a :href https://example.com Source}

      The best notation is the one that gets out of your way
      while keeping your data safe.

    |section[getting-started]
      :level 2

      ### Your First UDON File

      Here's what makes UDON special—you can explain things in natural
      prose while embedding |{code :lang udon |server :host localhost}
      inline, or break out to a full example:

      !code :udon
        |server
          :host localhost
          :port 8080

      The |{code "|"} prefix marks structure. The |{code ":"} prefix marks
      attributes. Everything else is just prose. For inline elements,
      use |{code "|{element content}"} syntax.

      ### Escaping Special Characters

      Sometimes you need literal prefix characters:

      '|this is not an element — it's prose starting with a pipe
      ':this is not an attribute — just text with a colon
      ';this is not a comment — semicolons in prose
      ''and this shows a literal apostrophe

      Back to normal prose here.

    |section[advanced-topics]
      :level 2

      ### Inline Nesting vs Embedded Elements

      Two syntaxes for different purposes:

      |div |span |strong Rightward nesting ; children nest rightward

      |p Prose with |{em emphasis}, |{strong |{em nested} formatting}, and
         |{a :href /doc :title "Full documentation" the |{em official} docs}.

      The first uses |{code |element} for structural nesting. The second
      uses |{code "|{element}"} for inline content within prose—crucial
      for |{dfn :id mixed-content-def documents where structure and prose
      are interwoven}.

      ### Navigation Example

      |nav.main |{a :href / Home} |{a :href /about About} |{a :href /docs Docs} |{a :href /contact Contact}

      ### Code Samples

      Use |{code !code} for non-UDON content:

      !code :elixir
        defmodule Example do
          def hello do
            # This pipe is Elixir, not UDON
            "world" |> String.upcase()
          end
        end

      !code :sql
        SELECT u.name, u.email
        FROM users u
        WHERE u.active = true
          AND u.created_at > '2025-01-01'
        ORDER BY u.name;

  ; ----------------------------------------------------------------------------
  ; TEMPLATE — Dynamic content with control flow
  ; ----------------------------------------------------------------------------

  |template[page-layout]
    :doctype html5

    !include partials/head

    |html :lang !{locale | default "en"}
      |head
        |meta :charset utf-8
        |title !{page.title} — !{site.name}

        !for stylesheet in stylesheets
          |link :rel stylesheet :href !{stylesheet}

        !if page.has_custom_css |style !{page.custom_css}

      |body :class !{body_classes | join " "}

        |header
          !include partials/nav

          !if announcements
            |div.announcements
              !for announcement in announcements
                |div.announcement :class !{announcement.type}
                  !{announcement.message | escape}

        |main[content]
          !if user
            |section.welcome
              Welcome back, !{user.name | capitalize}!

              !if user.is_admin
                |div.admin-notice You have !{pending_tasks | size} pending admin tasks.
              !elif user.is_moderator
                |div.mod-notice Moderation queue: !{mod_queue | size} items
              !else Your last login: !{user.last_login | format "%B %d, %Y"}

          !else
            |section.guest
              |p Welcome, guest!
              |a :href /login Please sign in
              |span or
              |a :href /register create an account

          !let featured = posts | where "featured" true | first
            !if featured
              |article.featured
                |h2 !{featured.title}
                !{featured.excerpt | truncate 200}

          |section.posts
            !for post in posts
              |article :id post-!{post.id}
                |h3 |a :href /posts/!{post.id} !{post.title}
                |p.meta
                  By !{post.author.name} on !{post.date | format "%Y-%m-%d"}
                |p !{post.excerpt}

        !include partials/footer

  ; ----------------------------------------------------------------------------
  ; COMPLEX ATTRIBUTES — Structured values under attributes
  ; ----------------------------------------------------------------------------

  |api-endpoint[create-user]
    :method POST
    :path /api/users
    :auth required

    :headers
      |header :name Content-Type :value application/json
      |header :name X-API-Version :value "2025-01"
      |header :name Authorization :value Bearer !{token}

    :request-body
      |field[email] :type string :required
      |field[password] :type string :required :min-length 8
      |field[name] :type string

    :responses
      |response :status 201 :description "User created"
      |response :status 400 :description "Validation error"
      |response :status 409 :description "Email already exists"

  ; ----------------------------------------------------------------------------
  ; REFERENCES — ID references for reuse
  ; ----------------------------------------------------------------------------

  ; Two forms of ID reference:
  ;   @[id] — Insert entire element (structure + content)
  ;   :[id] — Merge only attributes from that element

  |license[mit]
    MIT License

    Copyright (c) 2025 Joseph Wecker

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files...

  |license[apache-2]
    Apache License, Version 2.0

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License...

  ; @[id] — Full element insertion
  |project[udon-parser]
    :name "UDON Parser"
    :version 0.7.0
    :license @[mit]              ; Inserts the full |license[mit] element here
    :homepage https://github.com/example/udon
    :authors ["Joseph Wecker" "Contributors"]
    :keywords [parser notation data documents]

  |project[udon-tools]
    :name "UDON Tools"
    :version 0.1.0
    :license @[apache-2]
    :dependencies
      |dep :name udon-parser :version "~> 0.7"

  ; :[id] — Attribute merge (like mixin but via ID)
  |.db-defaults[base-db]
    :adapter postgres
    :host localhost
    :pool 5
    :timeout 30

  ; Merge base-db attributes, then override/add specific ones
  |database[dev]  :[base-db] :database myapp_dev  :pool  2
  |database[prod] :[base-db] :database myapp_prod :pool 20 :ssl

  ; ----------------------------------------------------------------------------
  ; EMBEDDED ELEMENTS AND EDGE CASES
  ; ----------------------------------------------------------------------------

  |edge-cases

    ; --- Embedded element variations ---
    |p Simple |{em emphasis} in prose.
    |p Multiple: |{em one}, |{strong two}, and |{code three}.
    |p With attributes: |{a :href /foo :title "Link title" click here} works.
    |p Nested: |{strong This is |{em very} important} stuff.
    |p Complex: See |{a :href /doc the |{em official} |{code API} docs} for details.

    ; --- Structural variations ---
    |empty                               ; Empty element
    |.just-classes.another-class         ; Classes only (mixin definition)
    |[only-id]                           ; ID only
    |outer :a 1 |middle :b 2 |inner :c 3 Content here ; Chained inline

    ; --- Value type edge cases ---
    |test-values
      :simple-list [one two three]
      :with-spaces ["hello world" "foo bar" simple]
      :mixed-types [42 3.14 true null "string"]
      :empty-list  []
      :single      [only-one]

    ; --- Deeply nested structure ---
    |level-1 |level-2 |level-3 |level-4 :deep true Finally at the bottom!

    ; Same thing expanded:
    |level-1
      |level-2
        |level-3
          |level-4
            :deep true
            Finally at the bottom!

  ; ----------------------------------------------------------------------------
  ; REAL-WORLD EXAMPLE — Technical documentation with embedded data
  ; ----------------------------------------------------------------------------

  |doc[api-guide].technical
    :version 2.1.0
    :last-updated 2025-12-22
    :authors ["Joseph Wecker" "Contributors"]

    ## Authentication

    All API requests require a bearer token. Obtain one from the
    |{a :href /oauth OAuth endpoint} using your |{code client_id} and
    |{code client_secret}.

    |endpoint[auth-token] :method POST :path /oauth/token
      :rate-limit |{limit :requests 10 :window 60s}

      Request an access token. Returns |{code :type response token} valid
      for |{duration :seconds 3600 one hour}.

    Token format: |{code Bearer <token>}. Include in the
    |{code Authorization} header of all subsequent requests.

    ## User Endpoints

    The |{code /users} resource supports full |{abbr :title "Create, Read, Update, Delete" CRUD}
    operations. All responses include |{field :name _links :type object HAL-style links}.

    |endpoint[create-user] :method POST :path /users
      :auth required
      :rate-limit |{limit :requests 100 :window 60s}

      Creates a new user. The |{field :name email :required} field must be
      unique. Optional fields include |{field :name name}, |{field :name avatar_url},
      and |{field :name metadata :type object}.

      |example :type request
        |{code-block :lang json {"email": "alice@example.com", "name": "Alice"}}

      |example :type response :status 201
        |{code-block :lang json {"id": "usr_abc123", "email": "alice@example.com"}}

      Possible errors:
        |error :code 400 validation failed,
        |error :code 409 email already exists.

    ## Rate Limiting

    All endpoints are rate-limited. When you exceed the limit, the API returns
    |{status :code 429 Too Many Requests} with a |{header :name Retry-After}
    header indicating seconds until the limit resets.

    Current limits by tier:
    '| Tier       | Requests/min | Burst    |
    '|------------|--------------|----------|
    '| Free       | |{n 60}      | |{n 10}  |  ; It is assumed that inlines like |{..} are
    '| Pro        | |{n 600}     | |{n 100} |  ;   processed before any markdown rendering/processing
    '| Enterprise | |{n 6000}    | |{n 1000}|


    For higher limits, |{a :href /contact contact sales} or see the
    |{a :href /docs/enterprise Enterprise documentation}.

  ; ----------------------------------------------------------------------------
  ; TRIPLE-BACKTICK ESCAPE (Rare — for edge cases only)
  ; ----------------------------------------------------------------------------

  |raw-example
    :description "Sometimes you need to break free of indentation"

    Here's content that uses the rare triple-backtick escape ```
  This content ignores indentation rules entirely.
      We can start wherever we want.
    Go back to column 0.
  |this-pipe-is-literal-text-not-an-element
  :this-colon-too
  ```

    Back to normal UDON parsing now.

  ; ============================================================================
  ; End of comprehensive example
  ; ============================================================================

  ```

  ## Your Task

  The following term was pulled randomly from a grab-bag of tech/AI/HCI
  buzzwords to spark potentially novel and creative usage scenarios:

  **Chaos engineering**

  Explore any unexpected connections or potential applications:

  1. Does UDON's mixed prose+structure model offer anything useful here?
  2. Any surprising synergies you notice?
  3. Would practitioners in this area benefit, or is UDON irrelevant?

  Think freely. We're looking for genuine insight, not forced connections.
  If UDON is genuinely unhelpful for this domain, say so directly.

  ---

  ## Feedback (Optional)

  After your main response, you're welcome to share additional thoughts:

  ```
  # FEEDBACK:
  # Your thoughts here...
  ```
response: "# Chaos Engineering & UDON\n\n## Genuine Synergies\n\nAfter thinking through
  this, I see **two legitimate connections** where UDON's mixed model could be valuable:\n\n###
  1. **Fault Injection Specifications as Literate Programs**\n\nChaos engineering
  experiments are often poorly documented - the runbooks explain *what* broke but
  not *why we're breaking it*. UDON's prose+structure mix could enable \"literate
  chaos specs\":\n\n```udon\n|experiment[database-partition]\n  :severity high\n  :services
  [checkout payment inventory]\n  :duration 300s\n\n  ## Hypothesis\n  \n  We believe
  that when the primary database becomes unreachable,\n  our system will |{em gracefully
  degrade} by serving from the\n  read-replica with |{metric :target 99 :unit \"%
  uptime\" 99% uptime}\n  and |{metric :target 500 :unit ms <500ms latency}.\n  \n
  \ This tests our assumption that the circuit breaker in\n  |{service checkout-service}
  properly fails over to\n  |{database :id replica-1 replica-1} when |{database :id
  primary primary}\n  health checks fail.\n  \n  |fault-injection\n    :type network-partition\n
  \   :target @[primary-db]\n    :method iptables-drop\n    \n    Block all traffic
  to |{code 10.0.1.5:5432} from the application\n    subnet. The connection pool should
  detect this within\n    |{duration :seconds 10 10 seconds} based on our |{code health_check_interval}\n
  \   setting.\n    \n  ## Success Criteria\n  \n  |criterion! :metric error-rate
  :threshold 0.01\n    Error rate stays below 1%. Some errors are acceptable during\n
  \   the failover window (first 10s) but should recover.\n    \n  |criterion! :metric
  p99-latency :threshold 500 :unit ms\n    99th percentile latency remains under 500ms.
  We expect a spike\n    during failover but it should not persist.\n    \n  ## Rollback
  Triggers\n  \n  |trigger :metric error-rate :threshold 0.05\n    If errors exceed
  5%, |{strong immediately terminate} the experiment.\n    This indicates the circuit
  breaker is not working.\n    \n  ## Observations from Previous Runs\n  \n  - 2025-12-15:
  Discovered that |{service inventory-service} had a\n    |{code connection_timeout}
  of 30s, causing 30s hangs. Fixed in\n    |{commit abc123}.\n  - 2025-12-10: Initial
  run showed cache stampede when switching to\n    replica. Added rate limiting.\n\n|database[primary-db]\n
  \ :host 10.0.1.5\n  :port 5432\n  :role primary\n\n|database[replica-1]\n  :host
  10.0.1.6\n  :port 5432\n  :role replica\n```\n\n**Why this matters:** Chaos experiments
  are inherently *explanatory*. You're not just configuring something, you're documenting
  a hypothesis, explaining assumptions, and recording learnings. Current tools (YAML
  configs, separate docs) create a gap. UDON could close it.\n\n### 2. **Incident
  Reports with Embedded Experiment Data**\n\nPost-mortems often reference chaos experiments:
  \"We tested this failure mode in experiment XYZ.\" With UDON, the incident report
  could embed the actual experiment spec inline:\n\n```udon\n|incident[2025-12-20-checkout-outage]\n
  \ :severity critical\n  :duration 23m\n  :detected 2025-12-20T14:32:00Z\n  \n  ##
  Timeline\n  \n  At |{time 14:32}, checkout latency spiked to |{metric 8000 :unit
  ms 8s}.\n  Within |{duration :minutes 5 5 minutes}, |{metric 847 :unit requests
  847 checkout requests}\n  failed completely.\n  \n  ## Root Cause\n  \n  The database
  connection pool exhausted because our circuit breaker\n  |{strong failed to open}.
  This is the exact scenario we tested in\n  @[database-partition] but under synthetic
  load, not real traffic patterns.\n  \n  The chaos experiment showed failover working,
  but we didn't account\n  for the connection pool |{code max_connections: 100} being
  shared\n  across multiple services in production.\n  \n  ## What Worked\n  \n  Our
  chaos experiment @[database-partition] correctly identified that\n  the circuit
  breaker |{em would} fail over. However, it didn't expose\n  the connection pool
  exhaustion because test traffic was lower.\n  \n  ## Action Items\n  \n  |action!
  :owner @alice :due 2025-12-27\n    Update @[database-partition] to use production-scale
  traffic\n    via load replay.\n    \n  |action! :owner @bob :due 2025-12-23\n    Separate
  connection pools per service to prevent cascading failures.\n```\n\nThe `@[database-partition]`
  reference pulls in the actual experiment spec, making the incident report self-contained.\n\n##
  Where UDON Doesn't Help\n\n**Real-time execution**: Chaos tools need machine-readable
  formats for orchestration (Kubernetes manifests, API calls). UDON doesn't replace
  this operational layer.\n\n**Observability data**: Time-series metrics, logs, traces
  are better in specialized formats (Prometheus, OpenTelemetry). UDON isn't a competitor
  here.\n\n## The Skeptical Take\n\nThe question is whether chaos practitioners would
  actually *write* in UDON versus treating it as a documentation format that gets
  generated/exported from their tooling. I suspect:\n\n- **Small teams / startups**:
  Might hand-author literate chaos specs in UDON\n- **Large orgs**: Would want UDON
  as an *export* format from their chaos platform, not the source of truth\n\nThe
  value proposition is clearer if UDON becomes an interchange format: your chaos tool
  exports UDON for human review/documentation, and you can import hand-written UDON
  specs back into the tool.\n\n## Verdict\n\n**Moderately useful, not transformative.**
  UDON's strength here is making chaos experiments more *explainable* by co-locating
  prose justification with structured config. But chaos engineering is fundamentally
  about *executing* experiments, and UDON doesn't help with runtime orchestration.
  It's a documentation win, not a tooling win.\n\nThe strongest use case is **institutional
  knowledge capture** - ensuring experiments document *why* they exist and *what*
  we learned, which is chronically underdone in chaos engineering.\n\n---**On UDON
  itself:**\n\n1. **The mixed model is genuinely differentiated.** Most formats pick
  data-first (JSON/YAML) or prose-first (Markdown). UDON's willingness to interleave
  is rare and valuable for specific domains (configuration docs, schemas with extensive
  comments, tutorial content).\n\n2. **Syntax clarity concerns:** The `|{inline}`
  vs `|rightward` distinction is subtle. I had to re-read to understand when I'd use
  each. The spec example helps, but I worry about cognitive load for newcomers.\n\n3.
  **The reference system (`@[id]` vs `:[id]`) is clever** but feels bolted-on rather
  than integrated. The distinction (full element vs attributes-only) is useful but
  requires remembering yet another sigil.\n\n4. **Missing: error-recovery story.**
  What happens when indentation is ambiguous? When an inline `|{...}` isn't properly
  closed? For a \"universal\" notation, resilience to partial/malformed input matters.\n\n5.
  **The triple-backtick escape feels like a code smell.** If you need an escape hatch
  to \"break free\" of your indentation model, maybe the indentation model is too
  rigid? I get why it exists, but it suggests tension in the design.\n\n6. **Honest
  question: who is the primary audience?** \n   - Developers writing config? (But
  they're used to YAML/TOML)\n   - Technical writers? (But they're used to Markdown/AsciiDoc)\n
  \  - Data scientists? (But they're used to JSON/Parquet)\n   \n   The \"universal\"
  pitch is ambitious, but adoption requires unseating incumbents in specific niches.
  I'd sharpen the positioning: \"UDON is for X when you need Y\" rather than \"UDON
  does everything.\"\n\n**What I genuinely liked:**\n- The mixin system (`.classname`)
  is elegant\n- Flags as \"attribute with no value\" (`:ssl`) is clean\n- The inline
  data examples (`|{metric ...}`) show where this shines\n\n**What made me skeptical:**\n-
  Notation fatigue is"
success:
notes:
feedback:
created_at: '2025-12-24T02:20:52Z'
